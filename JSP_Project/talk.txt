#Desc.

//커맨드 핸들러 사용부분.
//동일한 인터페이스를 통해 커맨드 핸들러 클래스들을 모두 생성.
//프로퍼티스 파일에 커맨드핸들러 경로(key)와 이름(value)파일 생성.
//요청시에 요청경로에 대응되는 커맨드핸들러 객체를 수행, 리턴형은 보여줄 jsp페이지.
//jsp페이지에서 커맨드핸들러는 서블릿의 request, response를 사용하며,
//커맨드 핸들러 내부에서 기본속성으로 (request, 경우에 따라서는 session)속성을 주입한것을 사용.
//서블릿에서는 커맨드핸들러 객체를 만들고, 수행하고, 리턴하는 페이지를 보여주는 작업을 함.
//즉, 수업중에 배웠던 서블릿이 어떤 요청경로인지 판별하는 부분은
//맵에서 해당되는 커맨드핸들러 객체를 동적로딩하는것을 의미.(이를 load-on-startup? 으로 미리 함. 미리 저장해놈)



우선 로그인.
로그인을 하게되면 userid와 Password가 폼을 통해 전달.
언제 VO써야되는지 애매하니까 그냥 항상 데이터 보낼때 VO쓰는거로.
LoginVO를 만고 Biz로 보냄. Biz에서 할건 없음.
Dao에서는 로그인 정보를 구함.
DB에 저장되어있는 회원정보라면 UserVO를 구함 아니라면 NULL반환.
서블릿으로 가서, 성공했다면 음.. 로그인도 커맨드핸들러를 해주는게 나았을려나
일단 책에서 properties파일에는 login커맨드핸들러가 없으니 없는거로 생각하고 작성.

이후 일단은 기본창이 뜨도록 해야함. 
MyDoc_List/main.jsp가 떠야하며, BasicUI/menuUI.jsp, BasicUI/caption.jsp를 include함. 
이부분 <jsp:include>인지 include디렉티브인지 아직 안정함.
어쨋든 뭐...
Login서블릿이 작동을 햇으면 일단 뭐 커맨드핸들러 객체 를 쓴건 아니니까
UserVO가 있는 상태에서 이걸 토대로 커맨드핸들러 객체를 사용해야될 듯.
는데 아무래도 보니까 DispatcherServlet에서 그냥 한번에 다 하는듯

이후 서블릿에서 return으로 main을 호출.
우선 main에는 검색창이 존재하니까... 검색을 하나 만들까
우선... main의 MyDoc_List를 처음 들어가게 되면 
'읽지않은 문서에는 체크가 되어 있지 않은 상태'이며,
'어떤 종류의 검색을 할 지, 작성자인지, 제목인지에 따라 검색이 나뉘어야될것.
내용이 뭐가있을까...
이부분은 공통된걸로 해야겠네
음... 제목, 작성자, 내용...일까나
아 생각해보니까 좀 좆같네
모든걸 각자의 커맨드 핸들러로 만들려고 하니까
좀 할께 많네
isread야 일단 넣은채로 jsp 안에서 확인후 처리한다고 쳐도
음..
어쩔수 없겠다 이건
Search부분이 좀 많아지겠네
어차피 jsp에서 isread는 거를예정이니까
범위랑 내용만 생각하면되겠네
아니네 애초에 다른데서는 읽지않은 문서 체크 그게 없네 여튼 뭐.. ㅇㅇ;
뭐, 일단 DocumentManagement.txt에서 커맨드핸들러 부분에 적어논것처럼 비슷비슷하니까 다른건 넘김.

----2019-02-03 아 존나 어디까지 했는지 기억이 안나누

일단 음, 준이랑 잠깐 얘기했었는데 아마 방법이 있을듯
서비스를 사용하지않고 어떻게든 문서에 jsp문서를 넣어서 표현할 방법이
따로 DocumentManagement에 표시는 안함. 여긴 서비스 그걸로만 ㅇㅇ;

일단 한 커맨드핸들러들 보니까 개인,결제,그룹 수신및 발신함 까지 해논거같은데
음...

아 그 머냐 생각해보니 따로 안해논거같긴한데
보통 일반 홈페이지처럼
상단에 음... captionUI부분에 어떤 로고랄까 그런거 누르면
처음 화면으로 돌아가도록 만들어주는게 인터페이스상 자연스러울 듯

휴지통을 잠깐 생각해보죠 ㅇㅇ;
각 화면인터페이스에서 정확히는 각 문서의 리스트에서.
content화면에서도 삭제를 누르면 휴지통으로 보내고 다시 해당 리스트를 보여주는게 
맞을거 같긴 한데 좀 복잡할거같아요 처리할거도많고.
content는 생각 안하기로 하겠습니다

각 모든 리스트는 아니 그 그룹문서의 경우에는 게시판 형식이기도 하고, 개인이 삭제하거나
할 수는 없는 거니까(적어도 우리 계획 내에서는)
개인과 결제문서가 되겠습니다.
각 문서는 personaltbl에서 isdelete를 관리함.
삭제시에는 해당 값을 변경시켜주고 다시 해당 페이지 리스트를 띄워주면 됨.
음.... DB를 보니 isDelete가 0으로 생성되는군요.
삭제시마다 1로 바꿔주시면 되겠습니다.

와 시발 어케만드노
음....

<table>
	<tr>
		<td><a href="content~~~~"</td>
		<td><form><type input="submit"></form></td>
	</tr>
	<tr>
		<td><a href="content~~~~"</td>
		<td><type input="submit"></td>
	</tr>
</table>

이런식으로 만들어야할 것 같습니다.
전체 폼에서 td안에 submit으로 보내던
테이블에성마지막 삭제 td내에서 form을 형성해서 정보를 넣고 보내던
둘중 한가지로 하면 될듯.
content의 경우에는 앵커태그를 통해서 href속성으로 링크를 이어줘야할 듯.
이때 doc값이라던가 각각에 맞게 넘겨야되는데 이부분 처리를 어또케 해야할까요 여러분
생각을 해보십시요 
왕좌의게임이랑 레스터맨유전 동시에 보면서 하려니까 집중이 안되는군요

어쨋든 일단 리스트의 삭제를 눌렀을때에 isdelete가 바뀌고 바뀐 리스트가 보여짐.
이후 사용자가 휴지통(인가요)를 누르게 되면 사용자가 지운 도큐먼트 리스트를 보여줌.
어,음. 휴지통에서도 쓸려면 VO에서 doctype을 넣어줬어야 했겠지만,
음... 안넣었는데 귀찮네요 새로 VO를 만들도록 할께요
이렇게 DeletedDocVO가 탄생합니다.
아 
휴지통에 뭐 보여줄건지 정한 ppt가 없군요 그냥 아무렇게나 정하겠습니다.
타입,문서번호,제목,만들어진시간,작성자입니당.
두가지 버튼을 갖습니다.
삭제(DB에서의 완전한 삭제, 해봤자 personaltbl이지만) 그리고 복구(isdelete를 다시 0으로)
빌어먹을 두개의 커맨드핸들러가 더 생기겠네요 하
아니지 하나 더필요하죠
휴지통 보여줘야되니까..하나하나씩
아 지금가지 한게 맞는지를 모르겟네 DAO getDeletedDoc
아 일단 세개 추가했는데
슬슬 짜증나네요

음
아 개짜증나 열받어
이제 문서만드는 화면이랑 컨텐츠 화면 남았네요
히히...양식이 다 다르면 커맨드핸들러 따로 해야겠죠?
슬슬 귀찮아집니다 대충해야겠어요였는데 시발 달라도 너무다르누

잘모르겠어요
새문서 작성창이 열리고.
종류를 선택하면
그에맞는 jsp문서를 아래에 확장시켜서 보여주는건가?
컨텐츠를 누르면
각 컨텐츠별로 뭘 보여주는거야
저 아직 잘 모르겠어요...

새벽 1시 45분에 왜 아무도 말을 안하누 이제 초저녁인데

문서를 만드는거부터 생각을 해야겠네.
make_doc -> 선택->하위에 확장하여 보여줌.
음.... 뭐랄까
선택하고 확인 누르는게 가장 이상적일거같기는 한데...
일단 확인버튼 누른다는 가정하에...
그룹을 내가 들은게 없어서 이것도 좀 애매하네용
헤헤 개인이랑 결제만 해야지

만드는건 그렇다 치는데 음....
컨텐츠라....

DAO랑 VO추가하고 어떤문서든 docVO뽑아서 getter로 뽑으면 됨